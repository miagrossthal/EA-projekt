<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vahemälu arhitektuur</title>
    <link rel="stylesheet" href="CSSpealeht_2.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li>
                    <span>Avaleht</span>
                    <ul class="nav-alammenüü">
                        <li><a href="tervitusleht.html">Tagasi avalehele</a></li>
                    </ul>
                </li>
                <li>
                    <span>Järjendloogika</span>
                    <ul class="nav-alammenüü">
                        <li><a href="pealeht_1.html">Lahenduskäiguga ülesanne</a></li>
                        <li><a href="pealeht_1.html#harjutamine">Vihjetega ülesanne</a></li>
                    </ul>
                </li>
                <li>
                    <span>Vahemälu arhitektuur</span>
                    <ul class="nav-alammenüü">
                        <li><a href="pealeht_2.html">Lahenduskäiguga ülesanne</a></li>
                        <li><a href="pealeht_2.html#harjutamine">Vihjetega ülesanne</a></li>
                        </ul>
                </li>
                <li>
                    <span>Tehted RISC protsessoris</span>
                    <ul class="nav-alammenüü">
                        <li><a href="pealeht_3.html">Lahenduskäiguga ülesanne</a></li>
                        <li><a href="pealeht_3.html#harjutamine">Vihjetega ülesanne</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
    <h1>Vahemälu arhitektuur</h1>
    <section class="" id="näide">
        <h1></h1>
        <h3>Näidislahendusega ülesanne</h3>
        <p class="piirjoon">Arvuti põhimälus saab salvestada 32 768 plokki infot, vahemälus 512 plokki. Ühes plokis on 8 sõna. Mis numbriga vahemälu plokki salvestatakse põhimälus 18 168. plokis paiknev info, kui selles vahemälus kasutatakse otsest infopaigutusviisi (<i>Direct mapping</i>)? Plokkide nummerdamine algab nii vahe- kui ka põhimälu puhul plokist nr 0.</p>
        <div class="lahendatud">
            <ol class="bold-marker">
                <li>Tahame salvestada 18 168 plokki põhimälust vahemällu, aga need ei mahu sinna korraga, sest vahemälu on vaid 512 plokki. Sõnade arv pole praegu oluline, sest töötame plokkidega.<br></li>
                <li><i>Direct mapping</i> tähendab, et plokkidele määratakse järjest asukohad ning kui asukoht on täidetud, kirjutatakse see üle. See tähendab, et põhimälu plokk 0 läheb vahemälu plokki 0, aga kuna aadressid lõppevad 511 juures, siis põhimälu plokk 512 läheb ka kohale 0 ja eelmine väärtus kirjutatakse üle.</li>
                <li>Tahame leida viimase ploki asukoha, seega peame tehteid tegema kogu kirjutatavate plokkide arvuga, sest viimane ongi 18 168. plokk (jätame sellele tähelepanu pööramata, et tema indeks on 18 167, sest ka kõikide teiste andmete puhul on indeks ühe võrra väiksem, seega lõpptulemusele see mõju ei avalda).<br></li>
                <li>Peame teostama moodulustehte ehk leidma jagamise jäägi. Kirjutame selle arusaadavamalt lahti. Kõigepealt teostame täisarvulise jagamise (jätame koma taga oleva ära) salvestatavate plokkide ja võimalike kirjutuskohtadega. 18168 // 512 = 35.<br></li>
                <li>Leidsime, mitu korda täidame kogu 512 plokki vahemälus ära. Nüüd korrutame 35 * 512 = 17 920, et saada mitu plokki eelmise protsessi käigus kokku salvestame.<br></li>
                <li>Nüüd lahutame plokkide arvu, mis salvestatakse täies ulatuses vahemällu, kogu salvestatavate plokkide arvust. 18 168 - 17 920 = 248. See tähendab, et viimane plokk salvestubki 248. plokki, sest viimases tsüklis ei täideta kogu 512 plokki ära.</li>
            </ol>
        </div>
    </section>
    <br><br><br>
    <section class="karussell-piltidega">
        <div id="stage">
            <div id="spinner">
                <div class="picture1"><img class="karussell" src="subway1.png"></div>
                <div class="picture2"><img class="karussell" src="subway2.png"></div>
                <div class="picture3"><img class="karussell" src="subway.png"></div>
                <div class="picture4"><img class="karussell" src="subway3.png"></div>
                <div class="picture5"><img class="karussell" src="subway4.png"></div>
            </div>
        </div>
    </section>
    <br><br><br>
    <br><br><br>
    <section class="" id="harjutamine">
        <br><br><br>
        <h3>Vihjetega ülesanne</h3>
        <p class="piirjoon">Arvuti mälu aadressid on 32 bitised. Vahemälus saab salvestada 512 plokki infot. Ühes plokis on on 2<sup>4</sup> sõna (lihtsuse mõttes eeldame, et sõnad on 1-baidised).<br>Mitut bitti läheb vaja selleks, et üheselt identifitseerida vahemälu pesas 83 salvestatud infoplokk, kui selles vahemälus kasutatakse assotsiatiivset infopaigutusviisi (<i>Associative mapping</i>)? Ehk teisisõnu, mitme bitine on nn sildi väli (ingl <i>tag field</i>)?</p>
        <details>
            <summary>Vihje 1</summary>
            <p>Assotsiatiivne paigutusviis tähendab, et nüüd ei salvestata plokke mitte järjest, vaid suvalisse vabasse plokki.</p>
        </details>
        <details>
            <summary>Vihje 2</summary>
            <p>Mäluaadress jaguneb kolmeks osaks: silt (kontrollnumber ploki leidmiseks), indeks (millisesse plokki info paigutada), nihe.</p>
        </details>
        <details>
            <summary>Vihje 3</summary>
            <p>Assotsiatiivses paigutuses ei kasutata indeksvälja, sest asukoht määratakse suvaliselt, seega on selle pikkus 0 bitti.</p>
        </details>
        <details>
            <summary>Vihje 4</summary>
            <p>Kõigepealt tuleb leida nihke bittide arv. Selle annab logaritm alusel kaks ühe ploki pikkusest sõnades, kuid ühe ploki pikkus on meile juba mugavalt kahe astmena ette antud, seega saab selle kohe astendajast võtta.</p>
        </details>
        <details>
            <summary>Vihje 5</summary>
            <p>Sildi bitid arvutatakse viimasena. Mäluaadressi kogupikkusest bittides tuleb lahutada kõikide selle osade bittide arv peale sildi välja omade.
</p>
        </details>
    <p><u>Kontrolli oma vastust</u></p>
    <section class="kontrollkast">
        <input id="vastus" data-leht="pealeht_2" type="text" placeholder="Sisesta oma vastus">
        <button class="kontrolli" data-leht="pealeht_2">Kontrolli</button>
        <p id="tulemus" data-leht="pealeht_2"></p>
    </section>
    <section class="" id="tagasiside">
    </section>
    <section class="subway">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/eRXE8Aebp7s?si=_Cl0UbPYm0Debdd7" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </section>
    <h4>Palun anna meie veebilehele <a href="https://forms.clickup.com/90151944952/f/2kyqk0qr-655/1DZPFUTZS4X4STH06J">tagasisidet!</a></h4>
    <br>
    <hr class = "style1">
    <p class="nimi"><i>Veebilehe koostajad: Mia Grossthal, Sandra Karo</i></p>
    <div id="logo"><a href="https://github.com/miagrossthal/EA-projekt"><img src="gitilogo.png"></a></div><p>Palun pane meie Githubi projektile tärn! &#128151;</p>
    <script src="ea-veebilehe-projekt.js"></script>
</body>
</html>